<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from discuss.iatistandard.org/t/working-with-data-in-multiple-currencies-exchange-rates-data/1891 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 21 Jan 2021 15:24:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Working with data in multiple currencies: exchange rates data - Using IATI Data - IATI Community Discussions</title>
    <meta name="description" content="See below another short post cross-posted from the Code for IATI blog on some tools to make it easier to use data published in multiple currencies. 

Working with data in multiple currencies: exchange rates data
IATI dat&amp;hellip;">
    <meta name="generator" content="Discourse 2.6.0.beta1 - https://github.com/discourse/discourse version fe7a7ecf6cc9a8e048c8250859be179502041feb">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/6b91f9ecc20e7554001e0411c0ddd61c81836f72_2_32x32.svg">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/6b91f9ecc20e7554001e0411c0ddd61c81836f72_2_180x180.svg">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1891.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://discuss.codeforiati.org","potentialAction":{"@type":"SearchAction","target":"https://discuss.codeforiati.org/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="IATI Community Discussions Search">

      <link href="../../stylesheets/desktop_97eab4872dd7e0bbc07f97051ddccc2321e7baf7.css_%3b%20filename_%3dUTF-8%27%27desktop_97eab4872dd7e0bbc07f97051ddccc2321e7baf71522.css?__ws=discuss.iatistandard.org" media="all" rel="stylesheet" data-target="desktop" data-theme-id="5"/>
      <link href="../../stylesheets/desktop_theme_5_073cbd05d898fc0ac65983595990f500f00f69ca.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_5_073cbd05d898fc0ac65983595990f500f00f69ca1522.css?__ws=discuss.iatistandard.org" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="5"/>
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Working with data in multiple currencies: exchange rates data&#39;" href="1891.rss" />
    <meta property="og:site_name" content="IATI Community Discussions" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://discuss.codeforiati.org/uploads/default/original/1X/6b91f9ecc20e7554001e0411c0ddd61c81836f72.svg" />
<meta property="og:image" content="https://discuss.codeforiati.org/uploads/default/original/1X/6b91f9ecc20e7554001e0411c0ddd61c81836f72.svg" />
<meta property="og:url" content="https://discuss.codeforiati.org/t/working-with-data-in-multiple-currencies-exchange-rates-data/1891" />
<meta name="twitter:url" content="https://discuss.codeforiati.org/t/working-with-data-in-multiple-currencies-exchange-rates-data/1891" />
<meta property="og:title" content="Working with data in multiple currencies: exchange rates data" />
<meta name="twitter:title" content="Working with data in multiple currencies: exchange rates data" />
<meta property="og:description" content="See below another short post cross-posted from the Code for IATI blog on some tools to make it easier to use data published in multiple currencies.   Working with data in multiple currencies: exchange rates data IATI data is published in different currencies by different organisations - data often comes out of each organisation’s own financial system. That’s great, because it provides a great deal of detail and precision, but it also presents a challenge for data users. In order to compare data ..." />
<meta name="twitter:description" content="See below another short post cross-posted from the Code for IATI blog on some tools to make it easier to use data published in multiple currencies.   Working with data in multiple currencies: exchange rates data IATI data is published in different currencies by different organisations - data often comes out of each organisation’s own financial system. That’s great, because it provides a great deal of detail and precision, but it also presents a challenge for data users. In order to compare data ..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ❤" />
<meta property="article:published_time" content="2020-02-03T15:29:32+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    <div id="top">
      <div id="header">
        <div id="header_container">
    
    <table id="table_header"><tbody><tr>
      <td><a href="../welcome-to-iati-discuss/6.html" title=""><img src="https://styles.iatistandard.org/assets/svg/source/logo-colour.svg" id="logo"></a>&nbsp;</td>
      <td><img alt="" id="logo-delimiter" src="../../images/logo-delimiter.html">&nbsp;</td>
      
    </tr></tbody></table>
    </div>
          <ul class="navigation-utility">
        <li id="section-news" class="navigation-utility__item"><a href="http://iatistandard.org/en/news/">News</a></li>
        <li id="section-events" class="navigation-utility__item"><a href="http://iatistandard.org/en/events/">Events</a></li>
        <li id="section-contact" class="navigation-utility__item"><a href="http://iatistandard.org/en/contact/">Contact</a></li>
      </ul>
        <nav class="navigation-primary" id="navigation-primary">

            <ul id="navigation-primary__items">
              <li id="section-about" class="navigation-primary__item"><a href="http://iatistandard.org/en/about/">About</a></li>
      				<li id="section-standard" class="navigation-primary__item"><a href="http://iatistandard.org/en/iati-standard">IATI Standard</a></li>
      				<li id="section-data" class="navigation-primary__item"><a href="http://iatistandard.org/en/using-data">Using Data</a></li>
      				<li id="section-support" class="navigation-primary__item"><a href="http://iatistandard.org/en/guidance/">Guidance &amp; Support</a></li>
      				<li id="section-community" class="navigation-primary__item"><a href="../../index.html">Community</a></li>
            </ul>
          </nav>
        <nav>
    </nav></div>
                <div id="top-menu-background">
        <div id="top-menu">
          <ul id="green" style="width: 100%;">
            <li class="clazz tab_home first active"><a href="../../index.html" class="tab">Home</a></li>
            <li class="main tab_forums first"><a href="../../c/standard-management/35.html" class="tab">IATI Standard Consultations</a></li>
            <li class="main tab_forums first"><a href="http://support.iatistandard.org/hc/en-us/categories/201849026-Upgrading-the-IATI-Standards" class="tab">Archive</a></li>
            <li class="main tab_forums first"><a href="https://iaticonnect.org/" class="tab">Discuss has moved to IATI Connect</a></li>
            
            <li class="main clazz tab_new community-nav-right"><a href="https://iatistandard.org/en/contact/" class="tab">Contact IATI</a></li>
          </ul>
        </div>
      </div>
    </div>
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/1X/6b91f9ecc20e7554001e0411c0ddd61c81836f72.svg" alt="IATI Community Discussions" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="1891.html">Working with data in multiple currencies: exchange rates data</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/community-zone/20.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #155366'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Community Zone</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/community-zone/iati-applied/21.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #2695B8'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Using IATI Data</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='IATI Community Discussions'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='../../uploads/default/original/1X/6b91f9ecc20e7554001e0411c0ddd61c81836f72.svg'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/markbrough.html'><span itemprop='name'>markbrough</span></a>
            (Mark Brough)
          </span>

          <link itemprop="mainEntityOfPage" href="1891.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-02-03T15:29:32Z' class='post-time'>
                February 3, 2020,  3:29pm
              </time>
              <meta itemprop='dateModified' content='2020-02-03T15:29:32Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>See below another short post cross-posted from <a href="https://codeforiati.org/blog/2020/02/03/working-with-data-multiple-currencies-exchange-rates-data/" rel="nofollow noopener">the Code for IATI blog</a> on some tools to make it easier to use data published in multiple currencies.</p>
<hr>
<h1>Working with data in multiple currencies: exchange rates data</h1>
<p>IATI data is published in different currencies by different organisations - data often comes out of each organisation’s own financial system. That’s great, because it provides a great deal of detail and precision, but it also presents a challenge for data users. In order to compare data published in different currencies, we need to convert to a common or “base” currency such as U.S. Dollars.</p>
<p>One option is to simply use annual averages, but in environments where currencies can vary substantially, this is not always accurate enough for the use case. As an alternative, there are services such as <a href="https://openexchangerates.org/" rel="nofollow noopener">Open Exchange Rates</a>, which even has a free plan, but with a limited number of requests allowed (1,000 per month). This can become problematic when dealing with very large datasets - the new IATI Datastore suggests there are currently about 4.5 million transactions in IATI data.</p>
<h2>Building a service for supporting use at country level</h2>
<p>For building IATI integrations in Bangladesh and Liberia, we therefore settled on another approach. We set <a href="https://morph.io/markbrough/exchangerates-scraper" rel="nofollow noopener">up a service</a> to extract exchange rates data from the <a href="https://fred.stlouisfed.org/categories/94" rel="nofollow noopener"><strong>U.S. Federal Reserve (FRED)</strong></a>, containing daily data for a number of currencies. It also captures monthly averages data from the <a href="https://stats.oecd.org/" rel="nofollow noopener"><strong>OECD</strong></a> in a broader range of currencies and for a longer historical period, which can be used as a fallback option. The service checks for new data from both sources each night and puts all the data into a single dataset. This can either be downloaded as a spreadsheet, or accessed via an API which developers can query (for example, “give me only the new rates since the last time I checked”).</p>
<p>We also set up a <a href="https://exchangerates.codeforiati.org/" rel="nofollow noopener">simple online exchange rates calculator</a> so you can see how it works.</p>
<h2>Selecting the best rate from multiple sources</h2>
<p>As the dataset contains exchange rates data from multiple sources, we need some logic in the target system to decide which source to use. For example: we prefer FRED rates (as they are daily rates, and so more accurate), and then fall back to using OECD rates (which are monthly), if no FRED exchange rate is available within a reasonable timeframe.</p>
<h2>Next steps</h2>
<p>There are a couple of things that could potentially be useful to add. For example, we could incorporate more sources (e.g. IMF or AfDB rates), which could potentially also open up a number of additional currencies. Depending on exactly how the data from other sources is published, the maintenance could become a bit more challenging – everything works very smoothly and automatically at the moment, so we would be keen to keep things manageable to ensure everything is sustainable.</p>
<p>Let us know what you think below, or if you have specific bug reports or feature requests, <a href="https://github.com/codeforIATI/exchangerates-scraper/issues" rel="nofollow noopener">you can add them on the Github Issues page</a>.</p>
        </div>

        <meta itemprop='headline' content='Working with data in multiple currencies: exchange rates data'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../tos.html' itemprop="url">Terms of Service </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a></p>
    </footer>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-107364622-1"></script>
<script src="../../theme-javascripts/4253779dfdd8746a6d2d7a4caed66d6a3c739ecc.js_%3b%20filename_%3dUTF-8%27%274253779dfdd8746a6d2d7a4caed66d6a3c739ecc1522.js?__ws=discuss.iatistandard.org"></script>
<div id="pre-footer">
	<div id="footer-additional">
		<div id="footer-social">
			<aside id="sidebar_social_links" class="widget widget_social_links">
				<div class="text-widget">
					<ul class="social-links">
						<li class="social twitter"><a href="https://twitter.com/codeforiati">Twitter</a></li>
						<li class="social rss"><a href="feed://support.iatistandard.org/home/index.rss">RSS</a></li>
					</ul>
				</div>
			</aside>
		</div>
		<!--#footer-social -->
	</div>
</div>
    
  </body>
  

<!-- Mirrored from discuss.iatistandard.org/t/working-with-data-in-multiple-currencies-exchange-rates-data/1891 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 21 Jan 2021 15:24:09 GMT -->
</html>
